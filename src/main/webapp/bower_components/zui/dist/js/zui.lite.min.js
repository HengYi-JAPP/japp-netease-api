(function($,window,undefined){"use strict";if(typeof $==="undefined")throw new Error("ZUI requires jQuery");if(!$.zui)$.zui=function(obj){if($.isPlainObject(obj)){$.extend($.zui,obj)}};var MOUSE_BUTTON_CODES={all:-1,left:0,middle:1,right:2};var lastUuidAmend=0;$.zui({uuid:function(){return(new Date).getTime()*1e3+lastUuidAmend++%1e3},callEvent:function(func,event,proxy){if($.isFunction(func)){if(proxy!==undefined){func=$.proxy(func,proxy)}var result=func(event);if(event)event.result=result;return!(result!==undefined&&!result)}return 1},clientLang:function(){var lang;var config=window.config;if(typeof config!="undefined"&&config.clientLang){lang=config.clientLang}if(!lang){var hl=$("html").attr("lang");lang=hl?hl:navigator.userLanguage||navigator.userLanguage||"zh_cn"}return lang.replace("-","_").toLowerCase()},strCode:function(str){var code=0;if(str&&str.length){for(var i=0;i<str.length;++i){code+=i*str.charCodeAt(i)}}return code},getMouseButtonCode:function(mouseButton){if(typeof mouseButton!=="number"){mouseButton=MOUSE_BUTTON_CODES[mouseButton]}if(mouseButton===undefined||mouseButton===null)mouseButton=-1;return mouseButton}});$.fn.callEvent=function(name,event,model){var $this=$(this);var dotIndex=name.indexOf(".zui.");var shortName=dotIndex<0?name:name.substring(0,dotIndex);var e=$.Event(shortName,event);if(model===undefined&&dotIndex>0){model=$this.data(name.substring(dotIndex+1))}if(model&&model.options){var func=model.options[shortName];if($.isFunction(func)){e.result=$.zui.callEvent(func,e,model)}}$this.trigger(e);return e};$.fn.callComEvent=function(component,eventName,params){if(params!==undefined&&!$.isArray(params)){params=[params]}var $this=this;var result=$this.triggerHandler(eventName,params);var eventCallback=component.options[eventName];if(eventCallback){result=eventCallback.apply(component,params)}return result}})(jQuery,window,undefined);(function($){"use strict";$.fn.fixOlPd=function(pd){pd=pd||10;return this.each(function(){var $ol=$(this);$ol.css("paddingLeft",Math.ceil(Math.log10($ol.children().length))*pd+10)})};$(function(){$(".ol-pd-fix,.article ol").fixOlPd()})})(jQuery);+function($){"use strict";var dismiss='[data-dismiss="alert"]';var zuiname="zui.alert";var Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.prototype.close=function(e){var $this=$(this);var selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}var $parent=$(selector);if(e)e.preventDefault();if(!$parent.length){$parent=$this.hasClass("alert")?$this:$this.parent()}$parent.trigger(e=$.Event("close."+zuiname));if(e.isDefaultPrevented())return;$parent.removeClass("in");function removeElement(){$parent.trigger("closed."+zuiname).remove()}$.support.transition&&$parent.hasClass("fade")?$parent.one($.support.transition.end,removeElement).emulateTransitionEnd(150):removeElement()};var old=$.fn.alert;$.fn.alert=function(option){return this.each(function(){var $this=$(this);var data=$this.data(zuiname);if(!data)$this.data(zuiname,data=new Alert(this));if(typeof option=="string")data[option].call($this)})};$.fn.alert.Constructor=Alert;$.fn.alert.noConflict=function(){$.fn.alert=old;return this};$(document).on("click."+zuiname+".data-api",dismiss,Alert.prototype.close)}(window.jQuery);+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap");var transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames){if(el.style[name]!==undefined){return{end:transEndEventNames[name]}}}return false}$.fn.emulateTransitionEnd=function(duration){var called=false;var $el=this;$(this).one("bsTransitionEnd",function(){called=true});var callback=function(){if(!called)$($el).trigger($.support.transition.end)};setTimeout(callback,duration);return this};$(function(){$.support.transition=transitionEnd();if(!$.support.transition)return;$.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}})}(jQuery);+function($){"use strict";var zuiname="zui.collapse";var Collapse=function(element,options){this.$element=$(element);this.options=$.extend({},Collapse.DEFAULTS,options);this.transitioning=null;if(this.options.parent)this.$parent=$(this.options.parent);if(this.options.toggle)this.toggle()};Collapse.DEFAULTS={toggle:true};Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"};Collapse.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var startEvent=$.Event("show."+zuiname);this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var actives=this.$parent&&this.$parent.find(".in");if(actives&&actives.length){var hasData=actives.data(zuiname);if(hasData&&hasData.transitioning)return;actives.collapse("hide");hasData||actives.data(zuiname,null)}var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0);this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("in")[dimension]("auto");this.transitioning=0;this.$element.trigger("shown."+zuiname)};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize])};Collapse.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var startEvent=$.Event("hide."+zuiname);this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var complete=function(){this.transitioning=0;this.$element.trigger("hidden."+zuiname).removeClass("collapsing").addClass("collapse")};if(!$.support.transition)return complete.call(this);this.$element[dimension](0).one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)};Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var old=$.fn.collapse;$.fn.collapse=function(option){return this.each(function(){var $this=$(this);var data=$this.data(zuiname);var options=$.extend({},Collapse.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data)$this.data(zuiname,data=new Collapse(this,options));if(typeof option=="string")data[option]()})};$.fn.collapse.Constructor=Collapse;$.fn.collapse.noConflict=function(){$.fn.collapse=old;return this};$(document).on("click."+zuiname+".data-api","[data-toggle=collapse]",function(e){var $this=$(this),href;var target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"");var $target=$(target);var data=$target.data(zuiname);var option=data?"toggle":$this.data();var parent=$this.attr("data-parent");var $parent=parent&&$(parent);if(!data||!data.transitioning){if($parent)$parent.find('[data-toggle=collapse][data-parent="'+parent+'"]').not($this).addClass("collapsed");$this[$target.hasClass("in")?"addClass":"removeClass"]("collapsed")}$target.collapse(option)})}(window.jQuery);(function(window,$){"use strict";var desktopLg=1200,desktop=992,tablet=768;var $window=$(window);var resetCssClass=function(){var width=$window.width();$("html").toggleClass("screen-desktop",width>=desktop&&width<desktopLg).toggleClass("screen-desktop-wide",width>=desktopLg).toggleClass("screen-tablet",width>=tablet&&width<desktop).toggleClass("screen-phone",width<tablet).toggleClass("device-mobile",width<desktop).toggleClass("device-desktop",width>=desktop)};var classNames="";var userAgent=navigator.userAgent;if(userAgent.match(/(iPad|iPhone|iPod)/i)){classNames+=" os-ios"}else if(userAgent.match(/android/i)){classNames+=" os-android"}else if(userAgent.match(/Win/i)){classNames+=" os-windows"}else if(userAgent.match(/Mac/i)){classNames+=" os-mac"}else if(userAgent.match(/Linux/i)){classNames+=" os-linux"}else if(userAgent.match(/X11/i)){classNames+=" os-unix"}if("ontouchstart"in document.documentElement){classNames+=" is-touchable"}$("html").addClass(classNames);$window.resize(resetCssClass);resetCssClass()})(window,jQuery);(function($){"use strict";var browseHappyTip={zh_cn:'您的浏览器版本过低，无法体验所有功能，建议升级或者更换浏览器。 <a href="http://browsehappy.com/" target="_blank" class="alert-link">了解更多...</a>',zh_tw:'您的瀏覽器版本過低，無法體驗所有功能，建議升級或者更换瀏覽器。<a href="http://browsehappy.com/" target="_blank" class="alert-link">了解更多...</a>',en:'Your browser is too old, it has been unable to experience the colorful internet. We strongly recommend that you upgrade a better one. <a href="http://browsehappy.com/" target="_blank" class="alert-link">Learn more...</a>'};var Browser=function(){var ie=this.isIE()||this.isIE10()||false;if(ie){for(var i=10;i>5;i--){if(this.isIE(i)){ie=i;break}}}this.ie=ie;this.cssHelper()};Browser.prototype.cssHelper=function(){var ie=this.ie,$html=$("html");$html.toggleClass("ie",ie).removeClass("ie-6 ie-7 ie-8 ie-9 ie-10");if(ie){$html.addClass("ie-"+ie).toggleClass("gt-ie-7 gte-ie-8 support-ie",ie>=8).toggleClass("lte-ie-7 lt-ie-8 outdated-ie",ie<8).toggleClass("gt-ie-8 gte-ie-9",ie>=9).toggleClass("lte-ie-8 lt-ie-9",ie<9).toggleClass("gt-ie-9 gte-ie-10",ie>=10).toggleClass("lte-ie-9 lt-ie-10",ie<10)}};Browser.prototype.tip=function(showCoontent){var $browseHappy=$("#browseHappyTip");if(!$browseHappy.length){$browseHappy=$('<div id="browseHappyTip" class="alert alert-dismissable alert-danger-inverse alert-block" style="position: relative; z-index: 99999"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button><div class="container"><div class="content text-center"></div></div></div>');$browseHappy.prependTo("body")}$browseHappy.find(".content").html(showCoontent||this.browseHappyTip||browseHappyTip[$.zui.clientLang()||"zh_cn"])};Browser.prototype.isIE=function(version){if(version===10)return this.isIE10();var b=document.createElement("b");b.innerHTML="\x3c!--[if IE "+(version||"")+"]><i></i><![endif]--\x3e";return b.getElementsByTagName("i").length===1};Browser.prototype.isIE10=function(){return false};$.zui({browser:new Browser});$(function(){if(!$("body").hasClass("disabled-browser-tip")){if($.zui.browser.ie&&$.zui.browser.ie<8){$.zui.browser.tip()}}})})(jQuery);(function(){"use strict";Date.ONEDAY_TICKS=24*3600*1e3;if(!Date.prototype.format){Date.prototype.format=function(format){var date={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};if(/(y+)/i.test(format)){format=format.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var k in date){if(new RegExp("("+k+")").test(format)){format=format.replace(RegExp.$1,RegExp.$1.length==1?date[k]:("00"+date[k]).substr((""+date[k]).length))}}return format}}if(!Date.prototype.addMilliseconds){Date.prototype.addMilliseconds=function(value){this.setTime(this.getTime()+value);return this}}if(!Date.prototype.addDays){Date.prototype.addDays=function(days){this.addMilliseconds(days*Date.ONEDAY_TICKS);return this}}if(!Date.prototype.clone){Date.prototype.clone=function(){var date=new Date;date.setTime(this.getTime());return date}}if(!Date.isLeapYear){Date.isLeapYear=function(year){return year%4===0&&year%100!==0||year%400===0}}if(!Date.getDaysInMonth){Date.getDaysInMonth=function(year,month){return[31,Date.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]}}if(!Date.prototype.isLeapYear){Date.prototype.isLeapYear=function(){return Date.isLeapYear(this.getFullYear())}}if(!Date.prototype.clearTime){Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this}}if(!Date.prototype.getDaysInMonth){Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())}}if(!Date.prototype.addMonths){Date.prototype.addMonths=function(value){var n=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+value);this.setDate(Math.min(n,this.getDaysInMonth()));return this}}if(!Date.prototype.getLastWeekday){Date.prototype.getLastWeekday=function(day){day=day||1;var d=this.clone();while(d.getDay()!=day){d.addDays(-1)}d.clearTime();return d}}if(!Date.prototype.isSameDay){Date.prototype.isSameDay=function(date){return date.toDateString()===this.toDateString()}}if(!Date.prototype.isSameWeek){Date.prototype.isSameWeek=function(date){var weekStart=this.getLastWeekday();var weekEnd=weekStart.clone().addDays(7);return date>=weekStart&&date<weekEnd}}if(!Date.prototype.isSameYear){Date.prototype.isSameYear=function(date){return this.getFullYear()===date.getFullYear()}}if(!Date.create){Date.create=function(date){if(!(date instanceof Date)){if(typeof date==="number"&&date<1e10){date*=1e3}date=new Date(date)}return date}}if(!Date.timestamp){Date.timestamp=function(date){if(typeof date==="number"){if(date<1e10){date*=1e3}}else{date=Date.create(date).getTime()}return date}}})();(function(){"use strict";if(!String.prototype.format){String.prototype.format=function(args){var result=this;if(arguments.length>0){var reg;if(arguments.length<=2&&typeof args=="object"){for(var key in args){if(args[key]!==undefined){reg=new RegExp("("+(arguments[1]?arguments[1].replace("0",key):"{"+key+"}")+")","g");result=result.replace(reg,args[key])}}}else{for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined){reg=new RegExp("({["+i+"]})","g");result=result.replace(reg,arguments[i])}}}}return result}}if(!String.prototype.isNum){String.prototype.isNum=function(s){if(s!==null){var r,re;re=/\d*/i;r=s.match(re);return r==s?true:false}return false}}if(!String.prototype.endsWith){String.prototype.endsWith=function(searchString,position){var subjectString=this.toString();if(position===undefined||position>subjectString.length){position=subjectString.length}position-=searchString.length;var lastIndex=subjectString.indexOf(searchString,position);return lastIndex!==-1&&lastIndex===position}}if(!String.prototype.startsWith){String.prototype.startsWith=function(searchString,position){position=position||0;return this.lastIndexOf(searchString,position)===position}}if(!String.prototype.includes){String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}}})();(function($,window,undefined){"$:nomunge";var elems=$([]),jq_resize=$.resize=$.extend($.resize,{}),timeout_id,str_setTimeout="setTimeout",str_resize="resize",str_data=str_resize+"-special-event",str_delay="delay",str_throttle="throttleWindow";jq_resize[str_delay]=250;jq_resize[str_throttle]=true;$.event.special[str_resize]={setup:function(){if(!jq_resize[str_throttle]&&this[str_setTimeout]){return false}var elem=$(this);elems=elems.add(elem);$.data(this,str_data,{w:elem.width(),h:elem.height()});if(elems.length===1){loopy()}},teardown:function(){if(!jq_resize[str_throttle]&&this[str_setTimeout]){return false}var elem=$(this);elems=elems.not(elem);elem.removeData(str_data);if(!elems.length){clearTimeout(timeout_id)}},add:function(handleObj){if(!jq_resize[str_throttle]&&this[str_setTimeout]){return false}var old_handler;function new_handler(e,w,h){var elem=$(this),data=$.data(this,str_data)||{};data.w=w!==undefined?w:elem.width();data.h=h!==undefined?h:elem.height();old_handler.apply(this,arguments)}if($.isFunction(handleObj)){old_handler=handleObj;return new_handler}else{old_handler=handleObj.handler;handleObj.handler=new_handler}}};function loopy(){timeout_id=window[str_setTimeout](function(){elems.each(function(){var elem=$(this),width=elem.width(),height=elem.height(),data=$.data(this,str_data);if(width!==data.w||height!==data.h){elem.trigger(str_resize,[data.w=width,data.h=height])}});loopy()},jq_resize[str_delay])}})(jQuery,this);(function(window,$){"use strict";var lsName="localStorage";var storage,dataset,pageName="page_"+window.location.pathname+window.location.search;var Store=function(){this.slience=true;try{if(lsName in window&&window[lsName]&&window[lsName].setItem){this.enable=true;storage=window[lsName]}}catch(e){}if(!this.enable){dataset={};storage={getLength:function(){var length=0;$.each(dataset,function(){length++});return length},key:function(index){var key,i=0;$.each(dataset,function(k){if(i===index){key=k;return false}i++});return key},removeItem:function(key){delete dataset[key]},getItem:function(key){return dataset[key]},setItem:function(key,val){dataset[key]=val},clear:function(){dataset={}}}}this.storage=storage;this.page=this.get(pageName,{})};Store.prototype.pageSave=function(){if($.isEmptyObject(this.page)){this.remove(pageName)}else{var forDeletes=[],i;for(i in this.page){var val=this.page[i];if(val===null)forDeletes.push(i)}for(i=forDeletes.length-1;i>=0;i--){delete this.page[forDeletes[i]]}this.set(pageName,this.page)}};Store.prototype.pageRemove=function(key){if(typeof this.page[key]!="undefined"){this.page[key]=null;this.pageSave()}};Store.prototype.pageClear=function(){this.page={};this.pageSave()};Store.prototype.pageGet=function(key,defaultValue){var val=this.page[key];return defaultValue!==undefined&&(val===null||val===undefined)?defaultValue:val};Store.prototype.pageSet=function(objOrKey,val){if($.isPlainObject(objOrKey)){$.extend(true,this.page,objOrKey)}else{this.page[this.serialize(objOrKey)]=val}this.pageSave()};Store.prototype.check=function(){if(!this.enable){if(!this.slience)throw new Error("Browser not support localStorage or enable status been set true.")}return this.enable};Store.prototype.length=function(){if(this.check()){return storage.getLength?storage.getLength():storage.length}return 0};Store.prototype.removeItem=function(key){storage.removeItem(key);return this};Store.prototype.remove=function(key){return this.removeItem(key)};Store.prototype.getItem=function(key){return storage.getItem(key)};Store.prototype.get=function(key,defaultValue){var val=this.deserialize(this.getItem(key));if(typeof val==="undefined"||val===null){if(typeof defaultValue!=="undefined"){return defaultValue}}return val};Store.prototype.key=function(index){return storage.key(index)};Store.prototype.setItem=function(key,val){storage.setItem(key,val);return this};Store.prototype.set=function(key,val){if(val===undefined)return this.remove(key);this.setItem(key,this.serialize(val));return this};Store.prototype.clear=function(){storage.clear();return this};Store.prototype.forEach=function(callback){var length=this.length();for(var i=length-1;i>=0;i--){var key=storage.key(i);callback(key,this.get(key))}return this};Store.prototype.getAll=function(){var all={};this.forEach(function(key,val){all[key]=val});return all};Store.prototype.serialize=function(value){if(typeof value==="string")return value;return JSON.stringify(value)};Store.prototype.deserialize=function(value){if(typeof value!=="string")return undefined;try{return JSON.parse(value)}catch(e){return value||undefined}};$.zui({store:new Store})})(window,jQuery);+function($){"use strict";var zuiname="zui.tab";var Tab=function(element){this.element=$(element)};Tab.prototype.show=function(){var $this=this.element;var $ul=$this.closest("ul:not(.dropdown-menu)");var selector=$this.attr("data-target")||$this.attr("data-tab");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}if($this.parent("li").hasClass("active"))return;var previous=$ul.find(".active:last a")[0];var e=$.Event("show."+zuiname,{relatedTarget:previous});$this.trigger(e);if(e.isDefaultPrevented())return;var $target=$(selector);this.activate($this.parent("li"),$ul);this.activate($target,$target.parent(),function(){$this.trigger({type:"shown."+zuiname,relatedTarget:previous})})};Tab.prototype.activate=function(element,container,callback){var $active=container.find("> .active");var transition=callback&&$.support.transition&&$active.hasClass("fade");function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");element.addClass("active");if(transition){element[0].offsetWidth;element.addClass("in")}else{element.removeClass("fade")}if(element.parent(".dropdown-menu")){element.closest("li.dropdown").addClass("active")}callback&&callback()}transition?$active.one($.support.transition.end,next).emulateTransitionEnd(150):next();$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=function(option){return this.each(function(){var $this=$(this);var data=$this.data(zuiname);if(!data)$this.data(zuiname,data=new Tab(this));if(typeof option=="string")data[option]()})};$.fn.tab.Constructor=Tab;$.fn.tab.noConflict=function(){$.fn.tab=old;return this};$(document).on("click.zui.tab.data-api",'[data-toggle="tab"], [data-tab]',function(e){e.preventDefault();$(this).tab("show")})}(window.jQuery);+function($){"use strict";var zuiname="zui.modal";var Modal=function(element,options){var that=this;that.options=options;that.$body=$(document.body);that.$element=$(element);that.$backdrop=that.isShown=null;that.scrollbarWidth=0;if(options.moveable===undefined){that.options.moveable=that.$element.hasClass("modal-moveable")}if(options.remote){that.$element.find(".modal-content").load(options.remote,function(){that.$element.trigger("loaded."+zuiname)})}};Modal.VERSION="3.2.0";Modal.TRANSITION_DURATION=300;Modal.BACKDROP_TRANSITION_DURATION=150;Modal.DEFAULTS={backdrop:true,keyboard:true,show:true,position:"fit"};var setDialogPos=function($dialog,pos){var $window=$(window);pos.left=Math.max(0,Math.min(pos.left,$window.width()-$dialog.outerWidth()));pos.top=Math.max(0,Math.min(pos.top,$window.height()-$dialog.outerHeight()));$dialog.css(pos)};Modal.prototype.toggle=function(_relatedTarget,position){return this.isShown?this.hide():this.show(_relatedTarget,position)};Modal.prototype.ajustPosition=function(position){var that=this;var options=that.options;if(typeof position==="undefined")position=options.position;if(typeof position==="undefined")return;var $dialog=that.$element.find(".modal-dialog");var half=Math.max(0,($(window).height()-$dialog.outerHeight())/2);var topPos=position=="fit"?half*2/3:position=="center"?half:position;if($dialog.hasClass("modal-moveable")){var pos=null;var rememberPos=options.rememberPos;if(rememberPos){if(rememberPos===true){pos=that.$element.data("modal-pos")}else if($.zui.store){pos=$.zui.store.pageGet(zuiname+".rememberPos."+rememberPos)}}if(!pos){pos={left:Math.max(0,($(window).width()-$dialog.outerWidth())/2),top:topPos}}if(options.moveable==="inside"){setDialogPos($dialog,pos)}else{$dialog.css(pos)}}else{$dialog.css("margin-top",topPos)}};Modal.prototype.setMoveale=function(){if(!$.fn.draggable)console.error("Moveable modal requires draggable.js.");var that=this;var options=that.options;var $dialog=that.$element.find(".modal-dialog").removeClass("modal-dragged");$dialog.toggleClass("modal-moveable",!!options.moveable);if(!that.$element.data("modal-moveable-setup")){$dialog.draggable({container:that.$element,handle:".modal-header",before:function(){$dialog.css("margin-top","").addClass("modal-dragged")},finish:function(e){var rememberPos=options.rememberPos;if(rememberPos){that.$element.data("modal-pos",e.pos);if($.zui.store&&rememberPos!==true){$.zui.store.pageSet(zuiname+".rememberPos."+rememberPos,e.pos)}}},move:options.moveable==="inside"?function(dragPos){setDialogPos($dialog,dragPos)}:true})}};Modal.prototype.show=function(_relatedTarget,position){var that=this;var e=$.Event("show."+zuiname,{relatedTarget:_relatedTarget});that.$element.trigger(e);if(that.isShown||e.isDefaultPrevented())return;that.isShown=true;if(that.options.moveable)that.setMoveale();that.checkScrollbar();that.$body.addClass("modal-open");that.setScrollbar();that.escape();that.$element.on("click.dismiss."+zuiname,'[data-dismiss="modal"]',$.proxy(that.hide,that));that.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");if(!that.$element.parent().length){that.$element.appendTo(that.$body)}that.$element.show().scrollTop(0);if(transition){that.$element[0].offsetWidth}that.$element.addClass("in").attr("aria-hidden",false);that.ajustPosition(position);that.enforceFocus();var e=$.Event("shown."+zuiname,{relatedTarget:_relatedTarget});transition?that.$element.find(".modal-dialog").one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger("focus").trigger(e)})};Modal.prototype.hide=function(e){if(e)e.preventDefault();e=$.Event("hide."+zuiname);this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=false;this.$body.removeClass("modal-open");this.resetScrollbar();this.escape();$(document).off("focusin."+zuiname);this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss."+zuiname);$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal()};Modal.prototype.enforceFocus=function(){$(document).off("focusin."+zuiname).on("focusin."+zuiname,$.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.trigger("focus")}},this))};Modal.prototype.escape=function(){if(this.isShown&&this.options.keyboard){$(document).on("keydown.dismiss."+zuiname,$.proxy(function(e){if(e.which==27){var et=$.Event("escaping."+zuiname);var result=this.$element.triggerHandler(et,"esc");if(result!=undefined&&!result)return;this.hide()}},this))}else if(!this.isShown){$(document).off("keydown.dismiss."+zuiname)}};Modal.prototype.hideModal=function(){var that=this;this.$element.hide();this.backdrop(function(){that.$element.trigger("hidden."+zuiname)})};Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};Modal.prototype.backdrop=function(callback){var that=this;var animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(this.$body);this.$element.on("mousedown.dismiss."+zuiname,$.proxy(function(e){if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this));if(doAnimate)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!callback)return;doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var callbackRemove=function(){that.removeBackdrop();callback&&callback()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else if(callback){callback()}};Modal.prototype.checkScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return;this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar()};Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);if(this.scrollbarWidth)this.$body.css("padding-right",bodyPad+this.scrollbarWidth)};Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure";this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;this.$body[0].removeChild(scrollDiv);return scrollbarWidth};function Plugin(option,_relatedTarget,position){return this.each(function(){var $this=$(this);var data=$this.data(zuiname);var options=$.extend({},Modal.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data)$this.data(zuiname,data=new Modal(this,options));if(typeof option=="string")data[option](_relatedTarget,position);else if(options.show)data.show(_relatedTarget,position)})}var old=$.fn.modal;$.fn.modal=Plugin;$.fn.modal.Constructor=Modal;$.fn.modal.noConflict=function(){$.fn.modal=old;return this};$(document).on("click."+zuiname+".data-api",'[data-toggle="modal"]',function(e){var $this=$(this);var href=$this.attr("href");var $target=null;try{$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,""))}catch(ex){return}if(!$target.length)return;var option=$target.data(zuiname)?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());if($this.is("a"))e.preventDefault();$target.one("show."+zuiname,function(showEvent){if(showEvent.isDefaultPrevented())return;$target.one("hidden."+zuiname,function(){$this.is(":visible")&&$this.trigger("focus")})});Plugin.call($target,option,this,$this.data("position"))})}(jQuery);(function($,window){"use strict";if(!$.fn.modal)throw new Error("Modal trigger requires modal.js");var NAME="zui.modaltrigger",STR_AJAX="ajax",ZUI_MODAL=".zui.modal",STR_STRING="string";var ModalTrigger=function(options,$trigger){options=$.extend({},ModalTrigger.DEFAULTS,$.ModalTriggerDefaults,$trigger?$trigger.data():null,options);this.isShown;this.$trigger=$trigger;this.options=options;this.id=$.zui.uuid()};ModalTrigger.DEFAULTS={type:"custom",height:"auto",name:"triggerModal",fade:true,position:"fit",showHeader:true,delay:0,backdrop:true,keyboard:true,waittime:0,loadingIcon:"icon-spinner-indicator"};ModalTrigger.prototype.init=function(options){var that=this;if(options.url){if(!options.type||options.type!=STR_AJAX&&options.type!="iframe"){options.type=STR_AJAX}}if(options.remote){options.type=STR_AJAX;if(typeof options.remote===STR_STRING)options.url=options.remote}else if(options.iframe){options.type="iframe";if(typeof options.iframe===STR_STRING)options.url=options.iframe}else if(options.custom){options.type="custom";if(typeof options.custom===STR_STRING){var $doms;try{$doms=$(options.custom)}catch(e){}if($doms&&$doms.length){options.custom=$doms}else if($.isFunction(window[options.custom])){options.custom=window[options.custom]}}}var $modal=$("#"+options.name);if($modal.length){if(!that.isShown)$modal.off(ZUI_MODAL);$modal.remove()}$modal=$('<div id="'+options.name+'" class="modal modal-trigger '+(options.className||"")+'">'+(typeof options.loadingIcon==="string"&&options.loadingIcon.indexOf("icon-")===0?'<div class="icon icon-spin loader '+options.loadingIcon+'"></div>':options.loadingIcon)+'<div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button class="close" data-dismiss="modal">×</button><h4 class="modal-title"><i class="modal-icon"></i> <span class="modal-title-name"></span></h4></div><div class="modal-body"></div></div></div></div>').appendTo("body").data(NAME,that);var bindEvent=function(optonName,eventName){var handleFunc=options[optonName];if($.isFunction(handleFunc))$modal.on(eventName+ZUI_MODAL,handleFunc)};bindEvent("onShow","show");bindEvent("shown","shown");bindEvent("onHide","hide");bindEvent("hidden","hidden");bindEvent("loaded","loaded");$modal.on("shown"+ZUI_MODAL,function(){that.isShown=true}).on("hidden"+ZUI_MODAL,function(){that.isShown=false});this.$modal=$modal;this.$dialog=$modal.find(".modal-dialog");if(options.mergeOptions)this.options=options};ModalTrigger.prototype.show=function(option){var options=$.extend({},this.options,{url:this.$trigger?this.$trigger.attr("href")||this.$trigger.attr("data-url")||this.$trigger.data("url"):this.options.url},option);this.init(options);var that=this,$modal=this.$modal,$dialog=this.$dialog,custom=options.custom;var $body=$dialog.find(".modal-body").css("padding",""),$header=$dialog.find(".modal-header"),$content=$dialog.find(".modal-content");$modal.toggleClass("fade",options.fade).addClass(options.className).toggleClass("modal-loading",!this.isShown);$dialog.toggleClass("modal-md",options.size==="md").toggleClass("modal-sm",options.size==="sm").toggleClass("modal-lg",options.size==="lg").toggleClass("modal-fullscreen",options.size==="fullscreen");$header.toggle(options.showHeader);$header.find(".modal-icon").attr("class","modal-icon icon-"+options.icon);$header.find(".modal-title-name").text(options.title||"");if(options.size&&options.size==="fullscreen"){options.width="";options.height=""}var resizeDialog=function(){clearTimeout(this.resizeTask);this.resizeTask=setTimeout(function(){that.ajustPosition()},100)};var readyToShow=function(delay,callback){if(typeof delay==="undefined")delay=options.delay;return setTimeout(function(){$dialog=$modal.find(".modal-dialog");if(options.width&&options.width!="auto"){$dialog.css("width",options.width)}if(options.height&&options.height!="auto"){$dialog.css("height",options.height);if(options.type==="iframe")$body.css("height",$dialog.height()-$header.outerHeight())}that.ajustPosition(options.position);$modal.removeClass("modal-loading");if(options.type!="iframe"){$dialog.off("resize."+NAME).on("resize."+NAME,resizeDialog)}callback&&callback()},delay)};if(options.type==="custom"&&custom){if($.isFunction(custom)){var customContent=custom({modal:$modal,options:options,modalTrigger:that,ready:readyToShow});if(typeof customContent===STR_STRING){$body.html(customContent);readyToShow()}}else if(custom instanceof $){$body.html($("<div>").append(custom.clone()).html());readyToShow()}else{$body.html(custom);readyToShow()}}else if(options.url){var onLoadBroken=function(){var brokenContent=$modal.callComEvent(that,"broken");if(brokenContent){$body.html(brokenContent);readyToShow()}};$modal.attr("ref",options.url);if(options.type==="iframe"){$modal.addClass("modal-iframe");this.firstLoad=true;var iframeName="iframe-"+options.name;$header.detach();$body.detach();$content.empty().append($header).append($body);$body.css("padding",0).html('<iframe id="'+iframeName+'" name="'+iframeName+'" src="'+options.url+'" frameborder="no"  allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"  allowtransparency="true" scrolling="auto" style="width: 100%; height: 100%; left: 0px;"></iframe>');if(options.waittime>0){that.waitTimeout=readyToShow(options.waittime,onLoadBroken)}var frame=document.getElementById(iframeName);frame.onload=frame.onreadystatechange=function(){if(that.firstLoad)$modal.addClass("modal-loading");if(this.readyState&&this.readyState!="complete")return;that.firstLoad=false;if(options.waittime>0){clearTimeout(that.waitTimeout)}try{$modal.attr("ref",frame.contentWindow.location.href);var frame$=window.frames[iframeName].$;if(frame$&&options.height==="auto"&&options.size!="fullscreen"){var $framebody=frame$("body").addClass("body-modal");if(options.iframeBodyClass)$framebody.addClass(options.iframeBodyClass);var ajustFrameSize=function(check){$modal.removeClass("fade");var height=$framebody.outerHeight();if(check===true&&options.onlyIncreaseHeight){height=Math.max(height,$body.data("minModalHeight")||0);$body.data("minModalHeight",height)}$body.css("height",height);if(options.fade)$modal.addClass("fade");readyToShow()};$modal.callComEvent(that,"loaded",{modalType:"iframe",jQuery:frame$});setTimeout(ajustFrameSize,100);$framebody.off("resize."+NAME).on("resize."+NAME,resizeDialog)}else{readyToShow()}frame$.extend({closeModal:window.closeModal})}catch(e){readyToShow()}}}else{$.ajax($.extend({url:options.url,success:function(data){try{var $data=$(data);if($data.hasClass("modal-dialog")){$dialog.replaceWith($data)}else if($data.hasClass("modal-content")){$dialog.find(".modal-content").replaceWith($data)}else{$body.wrapInner($data)}}catch(e){$modal.html(data)}$modal.callComEvent(that,"loaded",{modalType:STR_AJAX});readyToShow()},error:onLoadBroken},options.ajaxOptions))}}$modal.modal({show:"show",backdrop:options.backdrop,moveable:options.moveable,rememberPos:options.rememberPos,keyboard:options.keyboard})};ModalTrigger.prototype.close=function(callback,redirect){if(callback||redirect){this.$modal.on("hidden"+ZUI_MODAL,function(){if($.isFunction(callback))callback();if(typeof redirect===STR_STRING){if(redirect==="this")window.location.reload();else window.location=redirect}})}this.$modal.modal("hide")};ModalTrigger.prototype.toggle=function(options){if(this.isShown)this.close();else this.show(options)};ModalTrigger.prototype.ajustPosition=function(position){this.$modal.modal("ajustPosition",position||this.options.position)};$.zui({ModalTrigger:ModalTrigger,modalTrigger:new ModalTrigger});$.fn.modalTrigger=function(option,settings){return $(this).each(function(){var $this=$(this);var data=$this.data(NAME),options=$.extend({title:$this.attr("title")||$this.text(),url:$this.attr("href"),type:$this.hasClass("iframe")?"iframe":""},$this.data(),$.isPlainObject(option)&&option);if(!data)$this.data(NAME,data=new ModalTrigger(options,$this));if(typeof option==STR_STRING)data[option](settings);else if(options.show)data.show(settings);$this.on((options.trigger||"click")+".toggle."+NAME,function(e){data.toggle(options);if($this.is("a"))e.preventDefault()})})};var old=$.fn.modal;$.fn.modal=function(option,settings){return $(this).each(function(){var $this=$(this);if($this.hasClass("modal"))old.call($this,option,settings);else $this.modalTrigger(option,settings)})};var getModal=function(modal){var modalType=typeof modal;if(modalType==="undefined"){modal=$(".modal.modal-trigger")}else if(modalType===STR_STRING){modal=$(modal)}if(modal&&modal instanceof $)return modal;return null};var closeModal=function(modal,callback,redirect){if($.isFunction(modal)){var oldModal=redirect;redirect=callback;callback=modal;modal=oldModal}modal=getModal(modal);if(modal&&modal.length){modal.each(function(){$(this).data(NAME).close(callback,redirect)})}};var ajustModalPosition=function(position,modal){modal=getModal(modal);if(modal&&modal.length){modal.modal("ajustPosition",position)}};$.zui({closeModal:closeModal,ajustModalPosition:ajustModalPosition});$(document).on("click."+NAME+".data-api",'[data-toggle="modal"]',function(e){var $this=$(this);var href=$this.attr("href");var $target=null;try{$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,""))}catch(ex){}if(!$target||!$target.length){if(!$this.data(NAME)){$this.modalTrigger({show:true})}else{$this.trigger(".toggle."+NAME)}}if($this.is("a")){e.preventDefault()}})})(window.jQuery,window);+function($){"use strict";var Tooltip=function(element,options){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.init("tooltip",element,options)};Tooltip.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};Tooltip.prototype.init=function(type,element,options){this.enabled=true;this.type=type;this.$element=$(element);this.options=this.getOptions(options);var triggers=this.options.trigger.split(" ");for(var i=triggers.length;i--;){var trigger=triggers[i];if(trigger=="click"){this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this))}else if(trigger!="manual"){var eventIn=trigger=="hover"?"mouseenter":"focus";var eventOut=trigger=="hover"?"mouseleave":"blur";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this));this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS};Tooltip.prototype.getOptions=function(options){options=$.extend({},this.getDefaults(),this.$element.data(),options);if(options.delay&&typeof options.delay=="number"){options.delay={show:options.delay,hide:options.delay}}return options};Tooltip.prototype.getDelegateOptions=function(){var options={};var defaults=this.getDefaults();this._options&&$.each(this._options,function(key,value){if(defaults[key]!=value)options[key]=value});return options};Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("zui."+this.type);clearTimeout(self.timeout);self.hoverState="in";if(!self.options.delay||!self.options.delay.show)return self.show();self.timeout=setTimeout(function(){if(self.hoverState=="in")self.show()},self.options.delay.show)};Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("zui."+this.type);clearTimeout(self.timeout);self.hoverState="out";if(!self.options.delay||!self.options.delay.hide)return self.hide();self.timeout=setTimeout(function(){if(self.hoverState=="out")self.hide()},self.options.delay.hide)};Tooltip.prototype.show=function(content){var e=$.Event("show.zui."+this.type);if((content||this.hasContent())&&this.enabled){var that=this;that.$element.trigger(e);if(e.isDefaultPrevented())return;var $tip=that.tip();that.setContent(content);if(that.options.animation)$tip.addClass("fade");var placement=typeof that.options.placement=="function"?that.options.placement.call(that,$tip[0],that.$element[0]):that.options.placement;var autoToken=/\s?auto?\s?/i;var autoPlace=autoToken.test(placement);if(autoPlace)placement=placement.replace(autoToken,"")||"top";$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement);that.options.container?$tip.appendTo(that.options.container):$tip.insertAfter(that.$element);var pos=that.getPosition();var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(autoPlace){var $parent=that.$element.parent();var orgPlacement=placement;var docScroll=document.documentElement.scrollTop||document.body.scrollTop;var parentWidth=that.options.container=="body"?window.innerWidth:$parent.outerWidth();var parentHeight=that.options.container=="body"?window.innerHeight:$parent.outerHeight();var parentLeft=that.options.container=="body"?0:$parent.offset().left;placement=placement=="bottom"&&pos.top+pos.height+actualHeight-docScroll>parentHeight?"top":placement=="top"&&pos.top-docScroll-actualHeight<0?"bottom":placement=="right"&&pos.right+actualWidth>parentWidth?"left":placement=="left"&&pos.left-actualWidth<parentLeft?"right":placement;$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=that.getCalculatedOffset(placement,pos,actualWidth,actualHeight);that.applyPlacement(calculatedOffset,placement);var complete=function(){var prevHoverState=that.hoverState;that.$element.trigger("shown.zui."+that.type);that.hoverState=null;if(prevHoverState=="out")that.leave(that)};$.support.transition&&that.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(150):complete()}};Tooltip.prototype.applyPlacement=function(offset,placement){var replace;var $tip=this.tip();var width=$tip[0].offsetWidth;var height=$tip[0].offsetHeight;var marginTop=parseInt($tip.css("margin-top"),10);var marginLeft=parseInt($tip.css("margin-left"),10);if(isNaN(marginTop))marginTop=0;if(isNaN(marginLeft))marginLeft=0;offset.top=offset.top+marginTop;offset.left=offset.left+marginLeft;$tip.offset(offset).addClass("in");var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(placement=="top"&&actualHeight!=height){replace=true;offset.top=offset.top+height-actualHeight}if(/bottom|top/.test(placement)){var delta=0;if(offset.left<0){delta=offset.left*-2;offset.left=0;$tip.offset(offset);actualWidth=$tip[0].offsetWidth;actualHeight=$tip[0].offsetHeight}this.replaceArrow(delta-width+actualWidth,actualWidth,"left")}else{this.replaceArrow(actualHeight-height,actualHeight,"top")}if(replace)$tip.offset(offset)};Tooltip.prototype.replaceArrow=function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")};Tooltip.prototype.setContent=function(content){var $tip=this.tip();var title=content||this.getTitle();if(this.options.tipId)$tip.attr("id",this.options.tipId);if(this.options.tipClass)$tip.addClass(this.options.tipClass);$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title);$tip.removeClass("fade in top bottom left right")};Tooltip.prototype.hide=function(){var that=this;var $tip=this.tip();var e=$.Event("hide.zui."+this.type);function complete(){if(that.hoverState!="in")$tip.detach()}this.$element.trigger(e);if(e.isDefaultPrevented())return;$tip.removeClass("in");$.support.transition&&this.$tip.hasClass("fade")?$tip.one($.support.transition.end,complete).emulateTransitionEnd(150):complete();this.$element.trigger("hidden.zui."+this.type);return this};Tooltip.prototype.fixTitle=function(){var $e=this.$element;if($e.attr("title")||typeof $e.attr("data-original-title")!="string"){$e.attr("data-original-title",$e.attr("title")||"").attr("title","")}};Tooltip.prototype.hasContent=function(){return this.getTitle()};Tooltip.prototype.getPosition=function(){var el=this.$element[0];return $.extend({},typeof el.getBoundingClientRect=="function"?el.getBoundingClientRect():{width:el.offsetWidth,height:el.offsetHeight},this.$element.offset())};Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=="bottom"?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=="top"?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=="left"?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}};Tooltip.prototype.getTitle=function(){var title;var $e=this.$element;var o=this.options;title=$e.attr("data-original-title")||(typeof o.title=="function"?o.title.call($e[0]):o.title);return title};Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)};Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};Tooltip.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}};Tooltip.prototype.enable=function(){this.enabled=true};Tooltip.prototype.disable=function(){this.enabled=false};Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled};Tooltip.prototype.toggle=function(e){var self=e?$(e.currentTarget)[this.type](this.getDelegateOptions()).data("zui."+this.type):this;self.tip().hasClass("in")?self.leave(self):self.enter(self)};Tooltip.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("zui."+this.type)};var old=$.fn.tooltip;$.fn.tooltip=function(option,params){return this.each(function(){var $this=$(this);var data=$this.data("zui.tooltip");var options=typeof option=="object"&&option;if(!data)$this.data("zui.tooltip",data=new Tooltip(this,options));if(typeof option=="string")data[option](params)})};$.fn.tooltip.Constructor=Tooltip;$.fn.tooltip.noConflict=function(){$.fn.tooltip=old;return this}}(window.jQuery);+function($){"use strict";var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype);Popover.prototype.constructor=Popover;Popover.prototype.getDefaults=function(){return Popover.DEFAULTS};Popover.prototype.setContent=function(){var $tip=this.tip();var target=this.getTarget();if(target){if(target.find(".arrow").length<1)$tip.addClass("no-arrow");$tip.html(target.html());return}var title=this.getTitle();var content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title);$tip.find(".popover-content")[this.options.html?"html":"text"](content);$tip.removeClass("fade top bottom left right in");if(this.options.tipId)$tip.attr("id",this.options.tipId);if(this.options.tipClass)$tip.addClass(this.options.tipClass);if(!$tip.find(".popover-title").html())$tip.find(".popover-title").hide()};Popover.prototype.hasContent=function(){return this.getTarget()||this.getTitle()||this.getContent()};Popover.prototype.getContent=function(){var $e=this.$element;var o=this.options;return $e.attr("data-content")||(typeof o.content=="function"?o.content.call($e[0]):o.content)};Popover.prototype.getTarget=function(){var $e=this.$element;var o=this.options;var target=$e.attr("data-target")||(typeof o.target=="function"?o.target.call($e[0]):o.target);return target&&true?target=="$next"?$e.next(".popover"):$(target):false};Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};Popover.prototype.tip=function(){if(!this.$tip)this.$tip=$(this.options.template);return this.$tip};var old=$.fn.popover;$.fn.popover=function(option){return this.each(function(){var $this=$(this);var data=$this.data("zui.popover");var options=typeof option=="object"&&option;if(!data)$this.data("zui.popover",data=new Popover(this,options));if(typeof option=="string")data[option]()})};$.fn.popover.Constructor=Popover;$.fn.popover.noConflict=function(){$.fn.popover=old;return this}}(window.jQuery);+function($){"use strict";var zuiname="zui.dropdown";var backdrop=".dropdown-backdrop";var toggle="[data-toggle=dropdown]";var Dropdown=function(element){var $el=$(element).on("click."+zuiname,this.toggle)};Dropdown.prototype.toggle=function(e){var $this=$(this);if($this.is(".disabled, :disabled"))return;var $parent=getParent($this);var isActive=$parent.hasClass("open");clearMenus();if(!isActive){if("ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length){$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click",clearMenus)}$parent.trigger(e=$.Event("show."+zuiname));if(e.isDefaultPrevented())return;$parent.toggleClass("open").trigger("shown."+zuiname);$this.focus()}return false};Dropdown.prototype.keydown=function(e){if(!/(38|40|27)/.test(e.keyCode))return;var $this=$(this);e.preventDefault();e.stopPropagation();if($this.is(".disabled, :disabled"))return;var $parent=getParent($this);var isActive=$parent.hasClass("open");if(!isActive||isActive&&e.keyCode==27){if(e.which==27)$parent.find(toggle).focus();return $this.click()}var $items=$("[role=menu] li:not(.divider):visible a",$parent);if(!$items.length)return;var index=$items.index($items.filter(":focus"));if(e.keyCode==38&&index>0)index--;if(e.keyCode==40&&index<$items.length-1)index++;if(!~index)index=0;$items.eq(index).focus()};function clearMenus(){$(backdrop).remove();$(toggle).each(function(e){var $parent=getParent($(this));if(!$parent.hasClass("open"))return;$parent.trigger(e=$.Event("hide."+zuiname));if(e.isDefaultPrevented())return;$parent.removeClass("open").trigger("hidden."+zuiname)})}function getParent($this){var selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&/#/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,"")}var $parent;try{$parent=selector&&$(selector)}catch(e){}return $parent&&$parent.length?$parent:$this.parent()}var old=$.fn.dropdown;$.fn.dropdown=function(option){return this.each(function(){var $this=$(this);var data=$this.data("dropdown");if(!data)$this.data("dropdown",data=new Dropdown(this));if(typeof option=="string")data[option].call($this)})};$.fn.dropdown.Constructor=Dropdown;$.fn.dropdown.noConflict=function(){$.fn.dropdown=old;return this};var apiName=zuiname+".data-api";$(document).on("click."+apiName,clearMenus).on("click."+apiName,".dropdown form",function(e){e.stopPropagation()}).on("click."+apiName,toggle,Dropdown.prototype.toggle).on("keydown."+apiName,toggle+", [role=menu]",Dropdown.prototype.keydown)}(window.jQuery);+function($){"use strict";var Carousel=function(element,options){this.$element=$(element);this.$indicators=this.$element.find(".carousel-indicators");this.options=options;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.pause=="hover"&&this.$element.on("mouseenter",$.proxy(this.pause,this)).on("mouseleave",$.proxy(this.cycle,this))};Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:true,touchable:true};Carousel.prototype.touchable=function(){if(!this.options.touchable)return;this.$element.on("touchstart touchmove touchend",touch);var touchStartX,touchStartY;var that=this;function touch(event){var event=event||window.event;if(event.originalEvent)event=event.originalEvent;var carousel=$(this);switch(event.type){case"touchstart":touchStartX=event.touches[0].pageX;touchStartY=event.touches[0].pageY;break;case"touchend":var distanceX=event.changedTouches[0].pageX-touchStartX;var distanceY=event.changedTouches[0].pageY-touchStartY;if(Math.abs(distanceX)>Math.abs(distanceY)){handleCarousel(carousel,distanceX);if(Math.abs(distanceX)>10){event.preventDefault()}}else{var $w=$(window);$("body,html").animate({scrollTop:$w.scrollTop()-distanceY},400)}break}}function handleCarousel(carousel,distance){if(distance>10)that.prev();else if(distance<-10)that.next()}};Carousel.prototype.cycle=function(e){e||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval));return this};Carousel.prototype.getActiveIndex=function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)};Carousel.prototype.to=function(pos){var that=this;var activeIndex=this.getActiveIndex();if(pos>this.$items.length-1||pos<0)return;if(this.sliding)return this.$element.one("slid",function(){that.to(pos)});if(activeIndex==pos)return this.pause().cycle();return this.slide(pos>activeIndex?"next":"prev",$(this.$items[pos]))};Carousel.prototype.pause=function(e){e||(this.paused=true);if(this.$element.find(".next, .prev").length&&$.support.transition.end){this.$element.trigger($.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};Carousel.prototype.next=function(){if(this.sliding)return;return this.slide("next")};Carousel.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")};Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active");var $next=next||$active[type]();var isCycling=this.interval;var direction=type=="next"?"left":"right";var fallback=type=="next"?"first":"last";var that=this;if(!$next.length){if(!this.options.wrap)return;$next=this.$element.find(".item")[fallback]()}this.sliding=true;isCycling&&this.pause();var e=$.Event("slide.zui.carousel",{relatedTarget:$next[0],direction:direction});if($next.hasClass("active"))return;if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid",function(){var $nextIndicator=$(that.$indicators.children()[that.getActiveIndex()]);$nextIndicator&&$nextIndicator.addClass("active")})}if($.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(e);if(e.isDefaultPrevented())return;$next.addClass(type);$next[0].offsetWidth;$active.addClass(direction);$next.addClass(direction);$active.one($.support.transition.end,function(){$next.removeClass([type,direction].join(" ")).addClass("active");$active.removeClass(["active",direction].join(" "));that.sliding=false;setTimeout(function(){that.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{this.$element.trigger(e);if(e.isDefaultPrevented())return;$active.removeClass("active");$next.addClass("active");this.sliding=false;this.$element.trigger("slid")}isCycling&&this.cycle();return this};var old=$.fn.carousel;$.fn.carousel=function(option){return this.each(function(){var $this=$(this);var data=$this.data("zui.carousel");var options=$.extend({},Carousel.DEFAULTS,$this.data(),typeof option=="object"&&option);var action=typeof option=="string"?option:options.slide;if(!data)$this.data("zui.carousel",data=new Carousel(this,options));if(typeof option=="number")data.to(option);else if(action)data[action]();else if(options.interval)data.pause().cycle();if(options.touchable)data.touchable()})};$.fn.carousel.Constructor=Carousel;$.fn.carousel.noConflict=function(){$.fn.carousel=old;return this};$(document).on("click.zui.carousel.data-api","[data-slide], [data-slide-to]",function(e){var $this=$(this),href;var $target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));var options=$.extend({},$target.data(),$this.data());var slideIndex=$this.attr("data-slide-to");if(slideIndex)options.interval=false;$target.carousel(options);if(slideIndex=$this.attr("data-slide-to")){$target.data("zui.carousel").to(slideIndex)}e.preventDefault()});$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);$carousel.carousel($carousel.data())})})}(window.jQuery);